<div class="otp-container">
    <h2>Verify OTP</h2>
    <p class="subtitle">Enter the 6-digit code sent to {{ email }}</p>

    <form [formGroup]="otpForm" (ngSubmit)="verify()">
        <div class="form-group">
            <label for="otp">Verification Code</label>
            <input type="text" id="otp" formControlName="otp" placeholder="Enter 6-digit code" maxlength="6"
                [class.invalid]="otpForm.get('otp')?.invalid && otpForm.get('otp')?.touched">
            <div *ngIf="otpForm.get('otp')?.invalid && otpForm.get('otp')?.touched" class="error-message">
                <span *ngIf="otpForm.get('otp')?.errors?.['required']">OTP is required</span>
                <span *ngIf="otpForm.get('otp')?.errors?.['pattern']">OTP must be 6 digits</span>
            </div>
        </div>

        <div *ngIf="errorMessage" class="error-message" style="margin-bottom: 1rem;">
            {{ errorMessage }}
        </div>

        <button type="submit" [disabled]="otpForm.invalid || isLoading">
            {{ isLoading ? 'Verifying...' : 'Verify OTP' }}
        </button>

        <div class="form-footer">
            <p>Didn't receive the code? <a href="javascript:void(0)" (click)="resendOTP()">Resend OTP</a></p>
        </div>
    </form>
</div>