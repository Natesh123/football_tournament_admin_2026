<div>
    @if (isLoading()) {
    <div class="fixed inset-0 z-50 flex items-center justify-center bg-black/20 backdrop-blur-sm">
        <app-loader></app-loader>
    </div>
    }
    <!-- Section Tabs -->
    <div class="flex items-center gap-6 border-b border-black-border pb-2">
        <button (click)="switchTab('live')" class="font-bold pb-2 relative flex items-center gap-2 transition-colors"
            [ngClass]="{'text-gold-400 border-b-2 border-gold-400': currentTab() === 'live', 'text-text-muted hover:text-text-main': currentTab() !== 'live'}">
            {{ 'MATCH_FEED.TABS.LIVE' | translate }}
            @if(currentTab() === 'live') {
            <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
            }
        </button>
        <button (click)="switchTab('upcoming')" class="font-bold pb-2 transition-colors"
            [ngClass]="{'text-gold-400 border-b-2 border-gold-400': currentTab() === 'upcoming', 'text-text-muted hover:text-text-main': currentTab() !== 'upcoming'}">
            {{ 'MATCH_FEED.TABS.UPCOMING' | translate }}
        </button>
        <button (click)="switchTab('past')" class="font-bold pb-2 transition-colors"
            [ngClass]="{'text-gold-400 border-b-2 border-gold-400': currentTab() === 'past', 'text-text-muted hover:text-text-main': currentTab() !== 'past'}">
            {{ 'MATCH_FEED.TABS.PAST' | translate }}
        </button>
        <div class="ml-auto">
            <a href="#"
                class="text-xs font-bold text-text-muted hover:text-white hover:underline flex items-center gap-1 transition-colors">
                {{ 'MATCH_FEED.VIEW_ALL' | translate }}
                <svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24"
                    stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                        d="M14 5l7 7m0 0l-7 7m7-7H3" />
                </svg>
            </a>
        </div>
    </div>


    <!-- LIVE MATCHES CONTENT -->
    @if (currentTab() === 'live') {
    <div class="grid grid-cols-1 md:grid-cols-2 2xl:grid-cols-3 gap-6 mt-6">

        <!-- Card 1 -->
        <div
            class="bg-black-card border border-black-border rounded-xl p-6 relative group transition-all duration-300 transform hover:border-gold-400 hover:border-2 hover:-translate-y-2 hover:scale-102 hover:shadow-[0_0_30px_rgba(250,204,21,0.3)]">
            <div
                class="absolute top-4 right-4 bg-zinc-800 text-xs px-2 py-1 rounded text-gold-400 font-mono border border-black-border">
                {{ 'MATCH_FEED.LIVE_MATCH.STATUS' | translate }} • 74'</div>
            <div class="mb-6">
                <div class="text-gold-400 text-xs font-bold uppercase tracking-wider mb-1">
                    Champions League • Group A</div>
            </div>

            <div class="flex items-center justify-between">
                <div class="text-center w-1/3">
                    <div
                        class="w-16 h-16 mx-auto bg-zinc-800 rounded-full mb-3 flex items-center justify-center border border-zinc-700">
                        <span class="text-xs text-zinc-500">Logo</span>
                    </div>
                    <div class="font-bold text-sm truncate">Madrid CF</div>
                </div>

                <div class="text-center w-1/3">
                    <div class="text-4xl font-extrabold italic font-mono text-white">2 - 1</div>
                    <div class="text-xs text-text-muted mt-1">{{ 'MATCH_FEED.LIVE_MATCH.AGGREGATE' | translate }}: 3 - 3
                    </div>
                </div>

                <div class="text-center w-1/3">
                    <div
                        class="w-16 h-16 mx-auto bg-zinc-800 rounded-full mb-3 flex items-center justify-center border border-zinc-700">
                        <span class="text-xs text-zinc-500">Logo</span>
                    </div>
                    <div class="font-bold text-sm truncate">London Blue</div>
                </div>
            </div>

            <div class="mt-6 pt-4 border-t border-black-border flex items-center gap-3 text-xs text-text-muted">
                <div class="flex -space-x-2">
                    <div class="w-6 h-6 rounded-full bg-zinc-700 border border-black-card"></div>
                    <div class="w-6 h-6 rounded-full bg-zinc-700 border border-black-card"></div>
                </div>
                <span>Benzema (23'), Vinicius (58')</span>
            </div>
        </div>

        <!-- Card 2 -->
        <div
            class="bg-black-card border border-black-border rounded-xl p-6 relative group transition-all duration-300 transform hover:border-gold-400 hover:border-2 hover:-translate-y-2 hover:scale-102 hover:shadow-[0_0_30px_rgba(250,204,21,0.3)]">
            <div
                class="absolute top-4 right-4 bg-zinc-800 text-xs px-2 py-1 rounded text-gold-400 font-mono border border-black-border">
                {{ 'MATCH_FEED.LIVE_MATCH.STATUS' | translate }} • 12'</div>
            <div class="mb-6">
                <div class="text-gold-400 text-xs font-bold uppercase tracking-wider mb-1">
                    Gold Cup • Semi-Final</div>
            </div>

            <div class="flex items-center justify-between">
                <div class="text-center w-1/3">
                    <div
                        class="w-16 h-16 mx-auto bg-zinc-800 rounded-full mb-3 flex items-center justify-center border border-zinc-700">
                        <span class="text-xs text-zinc-500">Logo</span>
                    </div>
                    <div class="font-bold text-sm truncate">Munich FC</div>
                </div>

                <div class="text-center w-1/3">
                    <div class="text-4xl font-extrabold italic font-mono text-white">0 - 0</div>
                    <div class="text-xs text-text-muted mt-1">Kick-off: 19:00</div>
                </div>

                <div class="text-center w-1/3">
                    <div
                        class="w-16 h-16 mx-auto bg-zinc-800 rounded-full mb-3 flex items-center justify-center border border-zinc-700">
                        <span class="text-xs text-zinc-500">Logo</span>
                    </div>
                    <div class="font-bold text-sm truncate">Paris SG</div>
                </div>
            </div>

            <div
                class="mt-6 pt-4 border-t border-black-border flex items-center justify-between text-xs text-text-muted">
                <span>Recent Form: WWDLW</span>
                <div class="flex gap-2">
                    <svg class="h-4 w-4 text-gold-400" fill="currentColor" viewBox="0 0 20 20">
                        <path d="M2 10a8 8 0 018-8v8h8a8 8 0 11-16 0z" />
                        <path d="M12 2.252A8.014 8.014 0 0117.748 8H12V2.252z" />
                    </svg>
                    <svg class="h-4 w-4 text-text-muted" fill="currentColor" viewBox="0 0 20 20">
                        <path
                            d="M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z" />
                    </svg>
                </div>
            </div>
        </div>

    </div>
    }

    <!-- UPCOMING MATCHES CONTENT -->
    @if (currentTab() === 'upcoming') {
    <div class="space-y-6 mt-6">
        @for (group of upcomingMatchesGrouped; track group.date) {
        <div>
            <h3 class="text-gold-400 font-bold uppercase tracking-wider text-sm mb-3 pl-1">{{ group.date }}</h3>
            <div class="divide-y divide-black-border">
                @for (match of group.matches; track match.id) {
                <div
                    class="group p-4 flex flex-col transition-all duration-500 relative first:rounded-t-xl last:rounded-b-xl hover:z-10 bg-black-card border border-transparent hover:border-gold-400 hover:border-2 hover:-translate-y-2 hover:scale-102 hover:shadow-[0_0_30px_rgba(250,204,21,0.3)]">
                    <div class="flex items-center justify-between w-full">
                        <div class="flex items-center gap-4 text-xs font-mono text-text-muted w-24">
                            <span class="font-bold text-text-main">{{ match.time }}</span>
                        </div>
                        <div class="flex items-center gap-8 flex-1 justify-center">
                            <span class="font-bold text-right w-1/3">{{ match.homeTeam }}</span>
                            <span class="text-gold-400 text-xs font-bold">VS</span>
                            <span class="font-bold text-left w-1/3">{{ match.awayTeam }}</span>
                        </div>
                        <div class="w-24 flex justify-end">
                            <button
                                class="text-xs border border-gold-400 text-gold-400 px-3 py-1 rounded hover:bg-gold-400 hover:text-black transition-colors font-bold uppercase tracking-wider">{{
                                'MATCH_FEED.UPCOMING_MATCH.REMIND' | translate }}</button>
                        </div>
                    </div>

                    <!-- Expanded Details -->
                    <div
                        class="max-h-0 overflow-hidden group-hover:max-h-20 transition-all duration-500 ease-in-out opacity-0 group-hover:opacity-100 w-full border-t border-white/10 mt-0 group-hover:mt-4">
                        <div class="pt-3 flex justify-between text-xs">
                            <div class="flex flex-col">
                                <span class="text-gold-400 uppercase tracking-wider text-[10px] font-bold">{{
                                    'MATCH_FEED_LABELS.VENUE' | translate }}</span>
                                <span class="text-white font-mono">{{ match.venue }}</span>
                            </div>
                            <div class="flex flex-col text-right">
                                <span class="text-gold-400 uppercase tracking-wider text-[10px] font-bold">{{
                                    'MATCH_FEED_LABELS.KICKOFF' | translate }}</span>
                                <span class="text-white font-mono">{{ match.time }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>
        </div>
        }
    </div>
    }

    <!-- PAST RESULTS CONTENT -->
    @if (currentTab() === 'past') {
    <div class="space-y-6 mt-6">
        @for (group of pastMatchesGrouped; track group.date) {
        <div>
            <h3 class="text-text-muted font-bold uppercase tracking-wider text-sm mb-3 pl-1">{{ group.date }}</h3>
            <div class="divide-y divide-black-border">
                @for (match of group.matches; track match.id) {
                <div
                    class="group p-4 flex flex-col transition-all duration-500 relative first:rounded-t-xl last:rounded-b-xl hover:z-10 bg-black-card border border-transparent hover:border-gold-400 hover:border-2 hover:-translate-y-2 hover:scale-102 hover:shadow-[0_0_30px_rgba(250,204,21,0.3)]">
                    <div class="flex items-center justify-between w-full">
                        <div class="flex items-center gap-4 text-xs font-mono text-text-muted w-24">
                            <span class="px-2 py-0.5 rounded bg-zinc-800 text-[10px]">{{ match.status }}</span>
                        </div>
                        <div class="flex items-center gap-8 flex-1 justify-center">
                            <span class="font-bold text-right w-1/3 text-text-muted">{{ match.homeTeam }}</span>
                            <span class="text-white text-lg font-bold font-mono">{{ match.score }}</span>
                            <span class="font-bold text-left w-1/3 text-text-muted">{{ match.awayTeam }}</span>
                        </div>
                        <div class="w-24 flex justify-end">
                            <button
                                class="text-xs text-text-muted hover:text-white transition-colors font-bold uppercase tracking-wider flex items-center gap-1">
                                {{ 'MATCH_FEED.PAST_MATCH.DETAILS' | translate }} <svg
                                    xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" fill="none" viewBox="0 0 24 24"
                                    stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M9 5l7 7-7 7" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <!-- Expanded Details -->
                    <div
                        class="max-h-0 overflow-hidden group-hover:max-h-20 transition-all duration-500 ease-in-out opacity-0 group-hover:opacity-100 w-full border-t border-white/10 mt-0 group-hover:mt-4">
                        <div class="pt-3 flex justify-between text-xs">
                            <div class="flex flex-col">
                                <span class="text-gold-400 uppercase tracking-wider text-[10px] font-bold">{{
                                    'MATCH_FEED_LABELS.VENUE' | translate }}</span>
                                <span class="text-white font-mono">{{ match.venue }}</span>
                            </div>
                            <div class="flex flex-col text-right">
                                <span class="text-gold-400 uppercase tracking-wider text-[10px] font-bold">{{
                                    'MATCH_FEED_LABELS.WINNER' | translate }}</span>
                                <span class="text-white font-mono">{{ match.winner }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                }
            </div>
        </div>
        }
    </div>
    }

</div>